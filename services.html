<!DOCTYPE html>
<html data-wf-domain="lawfirmtemplate.webflow.io" data-wf-page="5ff7b19427bd828501c3e61c"
  data-wf-site="5ff723a6a2190a08cd9e2ed2" data-wf-status="1" lang="ar" dir="rtl">

<head>
  <meta charset="utf-8">
  <title>Khbrah – Legal Services & Pricing</title>
  <meta
    name="description"
    content="Explore Khbrah's comprehensive legal services including text chat, video/audio consultations, and case studies. Choose between subscription and pay-per-service options.">
  <meta property="og:title" content="Khbrah – Legal Services & Pricing">
  <meta
    property="og:description"
    content="Access professional legal services through text chat, video consultations, and case studies. Flexible pricing options available.">
  <meta property="og:type" content="website">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Font Awesome CDN (Latest Version) -->
  <!-- <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  integrity="sha512-yHptKw8x+Xe+5OqPUGIVThIoQJH1puyV53vTCDGOymA+CZ9SvQHEavz06qgZPYKXJCBFk10w9DJif0BFZAK8ug=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
  /> -->
  <!-- Add this line in your <head> section -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="5ff723a6a2190a08cd9e2ed2/css/lawfirmtemplate.webflow.722dc906b.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <link href="/Assets/khbrah-logo.png" rel="shortcut icon" type="image/x-icon">
  <link href="/Assets/khbrah-logo.png" rel="apple-touch-icon">
  <link href="css/language-switch.css" rel="stylesheet" type="text/css">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Stripe.js -->
  <script src="https://js.stripe.com/v3/"></script>
  <style>
    .w-webflow-badge {
      display: none !important;
    }

    /* Font Styles */
    body {
      font-family: 'Inter', sans-serif;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Inter', sans-serif;
      font-weight: 600;
    }

    .text-gradient {
      background: linear-gradient(135deg, #000000 0%, #333333 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Language Switch Styles */
    .language-switch {
      display: flex;
      align-items: center;
     
      justify-content: center;
      
      height: 100%;
    }
    
    .switch {
      position: relative;
      display: inline-block;
      width: 80px;
      height: 46px;
    }
    
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #000000;
      transition: .4s;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 8px;
    }
    
    .slider:before {
      position: absolute;
      content: "";
      height: 39px;
      width: 39px;
      left: 4px;
      bottom: 4px;
      
      background-color: white;
      transition: .4s;
      z-index: 2;
    }
    
    .lang-text {
      color: white;
      font-size: 16px;
      font-weight: bold;
      z-index: 1;
    }
    
    .lang-text.en {
      margin-right: 8px;
    }
    
    .lang-text.ar {
      margin-left: 8px;
    }
    
    input:checked + .slider {
      background-color: #000000;
    }
    
    input:checked + .slider:before {
      transform: translateX(32px);
    }
    
    .slider.round {
      border-radius: 34px;
    }
    
    .slider.round:before {
      border-radius: 50%;
    }
    
    /* RTL Support */
    [dir="rtl"] {
      direction: rtl;
      text-align: right;
    }
    
    [dir="rtl"] .header-navigation {
      flex-direction: row-reverse;
    }

    @keyframes slideIn {
      0% {
        transform: translateX(100%);
        opacity: 0;
      }
      100% {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .animate-slide-in {
      animation: slideIn 0.8s ease-out forwards;
    }
  </style>
  <style>
    /* Enhanced Service Card Styles */
    .service-card {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      transform: translateY(20px);
      opacity: 0;
      animation: fadeInUp 0.8s ease forwards;
      background: white;
      border-radius: 1rem;
      overflow: hidden;
      position: relative;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .service-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .service-card:hover::before {
      opacity: 1;
    }

    .service-card:hover .service-icon {
      transform: scale(1.1) rotate(5deg);
    }

    .service-icon {
      transition: all 0.4s ease;
      background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
      padding: 1.5rem;
      border-radius: 50%;
      margin-bottom: 1rem;
    }

    @keyframes fadeInUp {
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .service-card:nth-child(1) { animation-delay: 0.1s; }
    .service-card:nth-child(2) { animation-delay: 0.2s; }
    .service-card:nth-child(3) { animation-delay: 0.3s; }

    /* Enhanced Price Tag Styles */
    .price-tag {
      background: linear-gradient(135deg, #000000 0%, #333333 100%);
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 9999px;
      font-weight: bold;
      display: inline-block;
      margin: 1rem 0;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .price-tag:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
    }

    /* Enhanced Subscription Badge */
    .subscription-badge {
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 9999px;
      font-size: 0.875rem;
      display: inline-block;
      margin-left: 0.5rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .subscription-badge:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
    }

    /* Enhanced Button Styles */
    .button-primary {
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .button-primary::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }

    .button-primary:hover::after {
      width: 300px;
      height: 300px;
    }

    /* Responsive Grid Layout */
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      padding: 2rem;
    }

    @media (max-width: 768px) {
      .services-grid {
        grid-template-columns: 1fr;
        padding: 1rem;
      }
    }

    /* Loading Spinner */
    .loading-spinner {
      display: none;
      width: 40px;
      height: 40px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #3498db;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Payment Modal */
    .payment-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    .payment-modal.active {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .payment-form {
      background: white;
      padding: 2rem;
      border-radius: 1rem;
      width: 90%;
      max-width: 500px;
      margin: auto;
    }

    .success-message {
      display: none;
      text-align: center;
      padding: 2rem;
    }

    .success-message.active {
      display: block;
    }

    .success-icon {
      color: #4CAF50;
      font-size: 4rem;
      margin-bottom: 1rem;
    }

    /* Budget Selector Styles */
    .budget-selector {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }

    .budget-option {
      padding: 0.5rem 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 9999px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .budget-option.selected {
      background: #000;
      color: white;
      border-color: #000;
    }

    /* Chat Interface Styles */
    .chat-interface {
      display: none; /* Hidden by default */
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 350px;
      height: 500px;
      background: white;
      border-radius: 1rem;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .chat-header {
      padding: 1rem;
      background: #000;
      color: white;
      border-radius: 1rem 1rem 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-messages {
      height: 350px;
      overflow-y: auto;
      padding: 1rem;
    }

    .chat-input {
      padding: 1rem;
      border-top: 1px solid #e5e7eb;
      display: flex;
      gap: 0.5rem;
    }

    .chat-input input {
      flex: 1;
      padding: 0.75rem;
      border: 1px solid #e5e7eb;
      border-radius: 9999px;
      transition: all 0.3s ease;
    }

    .chat-input input:disabled {
      background-color: #f3f4f6;
      cursor: not-allowed;
    }

    /* File Upload Styles */
    .file-upload {
      border: 2px dashed #e5e7eb;
      padding: 2rem;
      text-align: center;
      border-radius: 1rem;
      margin: 1rem 0;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .file-upload:hover {
      border-color: #000;
      background-color: #f9fafb;
    }

    .file-upload i {
      font-size: 2rem;
      color: #6b7280;
      margin-bottom: 1rem;
    }

    .file-upload.has-files {
      border-color: #10b981;
      background-color: #f0fdf4;
    }

    .file-upload.has-files i {
      color: #10b981;
    }

    /* Video/Audio Call Interface */
    .call-interface {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 600px;
      background: white;
      border-radius: 1rem;
      padding: 2rem;
      z-index: 1000;
    }

    .call-options {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
    }

    .call-option {
      flex: 1;
      padding: 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 1rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .call-option:hover {
      border-color: #000;
    }

    .call-option.selected {
      background: #000;
      color: white;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .chat-interface {
        display: none; /* Hide chat interface on mobile */
      }

      .call-interface {
        width: 95%;
        padding: 1rem;
      }

      .budget-selector {
        justify-content: center;
      }

      /* Adjust payment form padding for smaller screens */
      .payment-form {
        padding: 1.5rem; /* Reduced padding for screens <= 768px */
      }
    }

    /* Specific adjustments for very small screens */
    @media (max-width: 480px) {
      .service-card {
        padding: 1.5rem; /* Reduce padding for smaller screens */
      }
      .text-4xl {
        font-size: 2.25rem; /* Adjust h1 size for very small screens */
      }
      .text-xl {
        font-size: 1.125rem; /* Adjust paragraph size for very small screens */
      }
      .header-navigation {
        padding-top: 1rem; /* Add some top padding to header links */
        padding-bottom: 1rem;
      }
    }

    /* Price Slider Styles */
    input[type="range"] {
      -webkit-appearance: none;
      appearance: none;
      height: 12px;
      background: linear-gradient(to right, #e5e7eb, #d1d5db);
      border-radius: 6px;
      outline: none;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 28px;
      height: 28px;
      background: #000;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      border: 2px solid white;
    }

    input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }

    input[type="range"]::-moz-range-thumb {
      width: 28px;
      height: 28px;
      background: #000;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      border: 2px solid white;
    }

    input[type="range"]::-moz-range-thumb:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }

    /* Add smooth transition for price display */
    #selectedPrice {
      transition: all 0.3s ease;
      background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
      border: 1px solid rgba(0,0,0,0.1);
    }

    /* Add hover effect for the service card */
    .service-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
  </style>
</head>

<body class="bg-gray-100">
  <div style="opacity:0" class="page-wrapper">
    <!-- Header (Same as other pages) -->
    <header class="fixed top-0 left-0 w-full z-50 px-4 sm:px-6 lg:px-8 header">
        <div class="max-w-screen-xl mx-auto">
          <div class="flex justify-between items-center bg-black/30 backdrop-blur-xl rounded-full px-6 py-2 sm:py-3 mt-4 shadow-lg relative">
            
            <!-- Logo -->
            <a href="index.html" class="flex items-center gap-2 shrink-0">
              <img src="./Assets/khbrah-logo.png" alt="Khbrah Logo" class="h-16  object-contain">
            </a>
      
            <!-- Desktop Nav -->
            <nav class="hidden lg:flex space-x-6 text-white font-medium">
              <a href="index.html" class="nav-link font-semibold w--current text-white">
                <span class="en">Home</span>
                <span class="ar hidden">الرئيسية</span>
              </a>
              <a href="about.html" class="nav-link text-white font-semibold">
                <span class="en">About</span>
                <span class="ar hidden">من نحن</span>
              </a>
              <a href="services.html" class="nav-link text-white font-semibold">
                <span class="en">Services</span>
                <span class="ar hidden">الخدمات</span>
              </a>
              <a href="features.html" class="nav-link text-white font-semibold">
                <span class="en">Features</span>
                <span class="ar hidden">المميزات</span>
              </a>
              <a href="packages.html" class="nav-link text-white font-semibold">
                <span class="en">Plans</span>
                <span class="ar hidden">الباقات</span>
              </a>
              <a href="contact.html" class="nav-link text-white font-semibold">
                <span class="en">Contact</span>
                <span class="ar hidden">اتصل بنا</span>
              </a>
            </nav>
      
            <!-- Desktop Right -->
            <div class="hidden lg:flex items-center space-x-4">
              <div class="language-switch">
                <label class="switch">
                  <input type="checkbox" id="languageToggle">
                  <span class="slider round">
                    <span class="lang-text en absolute left-2 top-1/2 -translate-y-1/2">EN</span>
                    <span class="lang-text ar absolute right-2 top-1/2 -translate-y-1/2">AR</span>
                  </span>
                </label>
              </div>
              <a href="https://play.google.com/store/apps/details?id=com.khbrah.main" class="text-white flex justify-center items-center font-medium bg-black hover:bg-gray-100 hover:scale-105 px-4 py-2 rounded-full transition-all duration-300 ease-in-out w-[170px]">
                <span class="en">Download App</span>
                <span class="ar hidden">تحميل التطبيق</span>
              </a>
            </div>
      
            <!-- Mobile Right -->
            <div class="flex items-center gap-3 lg:hidden z-50">
              <div class="language-switch">
                <label class="switch">
                  <input type="checkbox" id="languageToggleMobile">
                  <span class="slider round">
                    <span class="lang-text en absolute left-2 top-1/2 -translate-y-1/2">EN</span>
                    <span class="lang-text ar absolute right-2 top-1/2 -translate-y-1/2">AR</span>
                  </span>
                </label>
              </div>
              <button id="menu-toggle" class="text-white focus:outline-none">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2"
                     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </header>

   <!-- Mobile Sidebar -->
<div id="mobile-menu"
class="fixed z-50 top-0 right-0 h-full w-72 bg-black/90 text-white backdrop-blur-lg transform translate-x-full transition-transform duration-300 ease-in-out z-40 flex flex-col p-6 space-y-6 shadow-2xl lg:hidden">

<!-- Close Icon -->
<button id="menu-close" class="self-end text-white text-3xl mb-4">&times;</button>

<!-- Navigation -->
<nav class="flex flex-col space-y-4 text-lg font-medium">
<a href="index.html">
  <span class="en">Home</span>
  <span class="ar hidden">الرئيسية</span>
</a>
<a href="about.html">
  <span class="en">About</span>
  <span class="ar hidden">من نحن</span>
</a>
<a href="services.html">
  <span class="en">Services</span>
  <span class="ar hidden">الخدمات</span>
</a>
<a href="features.html">
  <span class="en">Features</span>
  <span class="ar hidden">المميزات</span>
</a>
<a href="packages.html">
  <span class="en">Plans</span>
  <span class="ar hidden">الباقات</span>
</a>
<a href="contact.html">
  <span class="en">Contact</span>
  <span class="ar hidden">اتصل بنا</span>
</a>
</nav>

<!-- Divider -->
<div class="border-t border-white/20 pt-6">
<!-- Language Switch -->


<!-- Download Button -->
<a href="https://play.google.com/store/apps/details?id=com.khbrah.main" class="block text-center text-white font-medium bg-black hover:bg-gray-800 px-4 py-2 rounded-full transition">
  <span class="en">Download App</span>
  <span class="ar hidden">تحميل التطبيق</span>
</a>
</div>
</div>

<!-- JS -->
<script>
const menuToggle = document.getElementById('menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');
const menuClose = document.getElementById('menu-close');

menuToggle.addEventListener('click', () => {
mobileMenu.classList.remove('translate-x-full');
mobileMenu.classList.add('translate-x-0');
});

menuClose.addEventListener('click', () => {
mobileMenu.classList.remove('translate-x-0');
mobileMenu.classList.add('translate-x-full');
});
</script>

    <!-- Main Content -->
    <main class="pt-32 pb-16 px-4 sm:px-6 lg:px-8">
      <div class="max-w-7xl mx-auto">
        <!-- Hero Section -->
        <div class="text-center mb-16">
          <h1 class="text-4xl md:text-5xl font-semibold mb-4 text-gradient" data-en="Our Services" data-ar="خدماتنا">Our Services</h1>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto font-medium" data-en="Choose from our range of professional legal services" data-ar="اختر من بين مجموعة خدماتنا القانونية المهنية">Choose from our range of professional legal services</p>
        </div>

        <!-- Services Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Text Chat Service -->
          <div class="bg-white rounded-2xl shadow-lg overflow-hidden transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl border border-gray-100 flex flex-col h-full">
            <div class="p-8 flex-grow">
              <div class="w-16 h-16 bg-gradient-to-br from-gray-50 to-gray-100 rounded-full flex items-center justify-center mb-6 shadow-sm">
                <i class="bi bi-chat-dots text-2xl text-gray-800"></i>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-gradient" data-en="Text Chat Consultation" data-ar="استشارة عبر الدردشة النصية">Text Chat Consultation</h3>
              
              <!-- Budget Options -->
              <div class="budget-selector">
                <div class="budget-option selected" data-price="50">50 SAR</div>
              </div>

              <!-- Features List -->
              <div class="mb-6 space-y-4">
                <div class="flex items-start space-x-3">
                  <div class="flex-shrink-0 ml-3 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center">
                    <i class="bi bi-check-lg text-green-600 text-sm"></i>
                  </div>
                  <p class="text-gray-600" data-en="24/7 availability with instant responses" data-ar="متاح على مدار الساعة مع ردود فورية">24/7 availability with instant responses</p>
                </div>
                <div class="flex items-start space-x-3">
                  <div class="flex-shrink-0 ml-3 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center">
                    <i class="bi bi-check-lg text-green-600 text-sm"></i>
                  </div>
                  <p class="text-gray-600" data-en="Expert legal advice from qualified lawyers" data-ar="مشورة قانونية من محامين مؤهلين">Expert legal advice from qualified lawyers</p>
                </div>
                <div class="flex items-start space-x-3">
                  <div class="flex-shrink-0 ml-3 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center">
                    <i class="bi bi-check-lg text-green-600 text-sm"></i>
                  </div>
                  <p class="text-gray-600" data-en="Document sharing and review capability" data-ar="إمكانية مشاركة ومراجعة المستندات">Document sharing and review capability</p>
                </div>
                <div class="flex items-start space-x-3">
                  <div class="flex-shrink-0 ml-3  w-6 h-6 bg-green-100 rounded-full flex items-center justify-center">
                    <i class="bi bi-check-lg text-green-600 text-sm"></i>
                  </div>
                  <p class="text-gray-600 pl-3" data-en="Chat history and reference access" data-ar="سجل المحادثات والوصول إلى المراجع">Chat history and reference access</p>
                </div>
              </div>

              <p class="text-gray-600 mb-6" data-en="Get instant legal advice through our text chat service. Available for both subscription and non-subscription users." data-ar="احصل على مشورة قانونية فورية من خلال خدمة الدردشة النصية. متاح للمشتركين وغير المشتركين.">Get instant legal advice through our text chat service. Available for both subscription and non-subscription users.</p>
            </div>
            <div class="p-8 pt-0 mt-auto">
              <button onclick="startChat()" class="w-full bg-gradient-to-r from-gray-900 to-black text-white py-4 px-6 rounded-full font-semibold hover:from-gray-800 hover:to-gray-900 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5" data-en="Start Chat" data-ar="ابدأ المحادثة">Start Chat</button>
            </div>
          </div>

          <!-- Video/Audio Call Service -->
          <div class="bg-white rounded-2xl shadow-lg overflow-hidden transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl border border-gray-100 flex flex-col h-full">
            <div class="p-8 flex-grow">
              <div class="w-16 h-16 bg-gradient-to-br from-gray-50 to-gray-100 rounded-full flex items-center justify-center mb-6 shadow-sm">
                <i class="bi bi-camera-video text-2xl text-gray-800"></i>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-gradient" data-en="Video & Audio Consultation" data-ar="استشارة عبر الفيديو والصوت">Video & Audio Consultation</h3>
              
              <!-- Price Slider -->
              <div class="mb-8 bg-gray-50 p-6 rounded-xl border border-gray-100">
                <div class="flex justify-between items-center mb-4">
                  <span class="text-gray-500 text-sm font-medium">Minimum</span>
                  <span class="text-2xl font-medium bg-white px-2 py-2 rounded-lg shadow-sm mx-2" id="selectedPrice">1000 SAR</span>
                  <span class="text-gray-500 text-sm font-medium">Maximum</span>
                </div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-gray-600 font-medium">100 SAR</span>
                  <span class="text-gray-600 font-medium">2000 SAR</span>
                </div>
                <input type="range" 
                       min="100" 
                       max="2000" 
                       step="100" 
                       value="1000" 
                       class="w-full h-3 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg appearance-none cursor-pointer" 
                       id="priceSlider"
                       oninput="updatePrice(this.value)">
                <div class="mt-4 text-center">
                  <span class="text-sm text-gray-500">Slide to select consultation duration</span>
                </div>
              </div>

              <span class="inline-block bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-full text-sm font-medium mb-6 shadow-sm" data-en="Free with Subscription for a limit" data-ar="مجاني مع الاشتراك لحد معين">Free with Subscription for a limit</span>
              <p class="text-gray-600 mb-6 leading-relaxed" data-en="Connect with our legal experts through video or audio calls. Free for subscription users up to their plan limit." data-ar="تواصل مع خبرائنا القانونيين عبر مكالمات الفيديو أو الصوت. مجاني للمشتركين حتى الحد المسموح به في خطتهم.">Connect with our legal experts through video or audio calls. Free for subscription users up to their plan limit.</p>
            </div>
            <div class="p-8 pt-0 mt-auto">
              <button onclick="startCall()" class="w-full bg-gradient-to-r from-gray-900 to-black text-white py-4 px-6 rounded-full font-semibold hover:from-gray-800 hover:to-gray-900 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5" data-en="Start Call" data-ar="ابدأ المكالمة">Start Call</button>
            </div>
          </div>

          <!-- Case Study Service -->
          <div class="bg-white rounded-2xl shadow-lg overflow-hidden transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl border border-gray-100 flex flex-col h-full">
            <div class="p-8 flex-grow">
              <div class="w-16 h-16 bg-gradient-to-br from-gray-50 to-gray-100 rounded-full flex items-center justify-center mb-6 shadow-sm">
                <i class="bi bi-journal-text text-2xl text-gray-800"></i>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-gradient" data-en="Case Study & Analysis" data-ar="دراسة وتحليل القضية">Case Study & Analysis</h3>
              
              <!-- Price Slider -->
              <div class="mb-8 bg-gray-50 p-6 rounded-xl border border-gray-100">
                <div class="flex justify-between items-center mb-4">
                  <span class="text-gray-500 text-sm font-medium">Minimum</span>
                  <span class="text-2xl  font-medium bg-white px-2 py-2 flex justify-center items-center rounded-lg shadow-sm mx-2" id="caseStudyPrice">250000 SAR</span>
                  <span class="text-gray-500 text-sm font-medium">Maximum</span>
                </div>
                <div class="flex justify-between items-center mb-2">
                  <span class="text-gray-600 font-medium">500 SAR</span>
                  <span class="text-gray-600 font-medium">500,000 SAR</span>
                </div>
                <input type="range" 
                       min="500" 
                       max="500000" 
                       step="500" 
                       value="250000" 
                       class="w-full h-3 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg appearance-none cursor-pointer" 
                       id="caseStudySlider"
                       oninput="updateCaseStudyPrice(this.value)">
                <div class="mt-4 text-center">
                  <span class="text-sm text-gray-500">Slide to select case complexity level</span>
                </div>
              </div>

              <!-- File Upload Section -->
              <div class="file-upload" onclick="document.getElementById('caseFile').click()">
                <i class="bi bi-cloud-arrow-up"></i>
                <p class="text-gray-600" data-en="Click to upload case documents" data-ar="انقر لتحميل وثائق القضية">Click to upload case documents</p>
                <input type="file" id="caseFile" class="hidden" multiple accept=".pdf,.doc,.docx">
              </div>

              <p class="text-gray-600 mb-6 leading-relaxed" data-en="Comprehensive case study and legal analysis. Price varies based on case complexity. Available for all users." data-ar="دراسة شاملة وتحليل قانوني. يختلف السعر حسب تعقيد القضية. متاح لجميع المستخدمين.">Comprehensive case study and legal analysis. Price varies based on case complexity. Available for all users.</p>
            </div>
            <div class="p-8 pt-0 mt-auto">
              <button onclick="startCaseStudy()" class="w-full bg-gradient-to-r from-gray-900 to-black text-white py-4 px-6 rounded-full font-semibold hover:from-gray-800 hover:to-gray-900 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5" data-en="Start Analysis" data-ar="ابدأ التحليل">Start Analysis</button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Chat Interface -->
    <div id="chatInterface" class="chat-interface">
      <div class="chat-header">
        <h3 class="font-bold">Legal Chat Consultation</h3>
        <button onclick="closeChat()" class="text-white">
          <i class="bi bi-x-lg"></i>
        </button>
      </div>
      <div class="chat-messages" id="chatMessages">
        <div class="bg-gray-100 p-4 rounded-lg mb-4">
          <p class="text-gray-600">Welcome to Khbrah Legal Chat! Please complete the payment to start chatting with our legal experts.</p>
        </div>
      </div>
      <div class="chat-input">
        <input type="text" placeholder="Type your message..." id="chatInput" disabled>
        <button onclick="sendMessage()" class="bg-black text-white px-4 py-2 rounded-full">
          <i class="bi bi-paper-plane"></i>
        </button>
      </div>
    </div>

    <!-- Call Interface -->
    <div id="callInterface" class="call-interface">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-bold">Start Consultation</h3>
        <button onclick="closeCall()" class="text-gray-500">
          <i class="bi bi-x-lg"></i>
        </button>
      </div>
      <div class="call-options">
        <div class="call-option" onclick="selectCallType('video')">
          <i class="bi bi-camera-video mb-2"></i>
          <p>Video Call</p>
        </div>
        <div class="call-option" onclick="selectCallType('audio')">
          <i class="bi bi-telephone mb-2"></i>
          <p>Audio Call</p>
        </div>
      </div>
      <button onclick="proceedToPayment()" class="w-full bg-black text-white py-3 px-6 rounded-full font-semibold mt-4">Proceed to Payment</button>
    </div>

    <!-- Chat Payment Modal -->
    <div id="chatPaymentModal" class="payment-modal">
      <div class="payment-form">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-bold" data-en="Chat Payment Required" data-ar="الدفع مطلوب للمحادثة">Chat Payment Required</h2>
          <button onclick="closeChatPaymentModal()" class="text-gray-500 hover:text-gray-700">
            <i class="bi bi-x-lg text-xl"></i>
          </button>
        </div>
        <p class="text-gray-600 mb-6" data-en="Please complete the payment to start chatting with our legal experts." data-ar="يرجى إتمام الدفع لبدء المحادثة مع خبرائنا القانونيين.">Please complete the payment to start chatting with our legal experts.</p>
        <div class="flex gap-4">
          <button onclick="closeChatPaymentModal()" class="flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-full font-semibold hover:bg-gray-300 transition-colors duration-300" data-en="Cancel" data-ar="إلغاء">Cancel</button>
          <button onclick="proceedToChatPayment()" class="flex-1 bg-black text-white py-3 px-6 rounded-full font-semibold hover:bg-gray-800 transition-colors duration-300" data-en="Proceed to Payment" data-ar="المتابعة للدفع">Proceed to Payment</button>
        </div>
      </div>
    </div>

    <!-- Case Study Payment Modal -->
    <div id="caseStudyPaymentModal" class="payment-modal">
      <div class="payment-form">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-bold" data-en="Case Study Payment Required" data-ar="الدفع مطلوب لدراسة القضية">Case Study Payment Required</h2>
          <button onclick="closeCaseStudyPaymentModal()" class="text-gray-500 hover:text-gray-700">
            <i class="bi bi-x-lg text-xl"></i>
          </button>
        </div>
        <p class="text-gray-600 mb-6" data-en="Please complete the payment to start the case study analysis." data-ar="يرجى إتمام الدفع لبدء تحليل دراسة القضية.">Please complete the payment to start the case study analysis.</p>
        <div class="flex gap-4">
          <button onclick="closeCaseStudyPaymentModal()" class="flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-full font-semibold hover:bg-gray-300 transition-colors duration-300" data-en="Cancel" data-ar="إلغاء">Cancel</button>
          <button onclick="proceedToCaseStudyPayment()" class="flex-1 bg-black text-white py-3 px-6 rounded-full font-semibold hover:bg-gray-800 transition-colors duration-300" data-en="Proceed to Payment" data-ar="المتابعة للدفع">Proceed to Payment</button>
        </div>
      </div>
    </div>

    <!-- Fallback Payment Section -->
    <div id="fallbackPaymentSection" class="payment-modal">
      <div class="payment-form">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-bold" data-en="Complete Payment" data-ar="إتمام الدفع">Complete Payment</h2>
          <button onclick="closeFallbackPayment()" class="text-gray-500 hover:text-gray-700">
            <i class="bi bi-x-lg text-xl"></i>
          </button>
        </div>
        <div class="mb-6">
          <p class="text-gray-600" data-en="Amount to Pay:" data-ar="المبلغ المطلوب:">Amount to Pay:</p>
          <p class="text-2xl font-bold" id="fallbackAmount">0 SAR</p>
        </div>
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" data-en="Card Number" data-ar="رقم البطاقة">Card Number</label>
          <input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="1234 5678 9012 3456" maxlength="19">
        </div>
        <div class="grid grid-cols-2 gap-4 mb-4">
          <div>
            <label class="block text-gray-700 text-sm font-bold mb-2" data-en="Expiry Date" data-ar="تاريخ الانتهاء">Expiry Date</label>
            <input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="MM/YY" maxlength="5">
          </div>
          <div>
            <label class="block text-gray-700 text-sm font-bold mb-2" data-en="CVV" data-ar="رمز الأمان">CVV</label>
            <input type="text" class="w-full px-3 py-2 border rounded-lg" placeholder="123" maxlength="3">
          </div>
        </div>
        <button onclick="processFallbackPayment()" class="w-full bg-black text-white py-3 px-6 rounded-full font-semibold hover:bg-gray-800 transition-colors duration-300" data-en="Pay Now" data-ar="ادفع الآن">Pay Now</button>
      </div>
    </div>

    <!-- Footer (Same as other pages) -->
    <footer class="footer">
      <!-- Footer content (same as other pages) -->
    </footer>
  </div>

  <!-- Scripts -->
  <script src="js/language-switch.js" type="text/javascript"></script>
  <script src="js/jquery-3.5.1.min.dc5e7f18c8.js" type="text/javascript"></script>
  <script src="5ff723a6a2190a08cd9e2ed2/js/webflow.582146835.js" type="text/javascript"></script>
  
  <!-- Enhanced Payment Integration Script -->
  <script>
    let currentPayment = {
      serviceType: '',
      amount: 0,
      paymentType: '' // 'chat', 'caseStudy', or 'call'
    };

    function showPaymentModal(serviceType, amount) {
      currentPayment = { serviceType, amount };
      document.getElementById('paymentModal').classList.add('active');
      document.getElementById('paymentForm').style.display = 'block';
      document.getElementById('successMessage').classList.remove('active');
    }

    function closePaymentModal() {
      document.getElementById('paymentModal').classList.remove('active');
    }

    function processPayment() {
      // Simulate payment processing
      document.getElementById('paymentForm').style.display = 'none';
      document.getElementById('successMessage').classList.add('active');

      // Close modal after 3 seconds
      setTimeout(() => {
        closePaymentModal();
        // Reset form
        document.getElementById('paymentForm').style.display = 'block';
        document.getElementById('successMessage').classList.remove('active');
      }, 3000);
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('paymentModal');
      if (event.target === modal) {
        closePaymentModal();
      }
    }

    // Format card number input
    document.querySelector('input[placeholder="1234 5678 9012 3456"]').addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      let formattedValue = '';
      for(let i = 0; i < value.length; i++) {
        if(i > 0 && i % 4 === 0) {
          formattedValue += ' ';
        }
        formattedValue += value[i];
      }
      e.target.value = formattedValue;
    });

    // Format expiry date input
    document.querySelector('input[placeholder="MM/YY"]').addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      if(value.length >= 2) {
        value = value.slice(0,2) + '/' + value.slice(2);
      }
      e.target.value = value;
    });

    // Initialize Stripe with your publishable key
    const stripe = Stripe('pk_test_51RaVxdQpWtvte8Ay9NwYmcndJCYXMgd93crBHKCfjGna4DdlhxuKSdazQqjApfnzCL90GBbYIAHJjVnAbwQyfpNv00l5llZqQZ');

    async function redirectToCheckout(serviceType, amount, event) {
      try {
        // Show loading state
        const button = event.target;
        const originalText = button.innerHTML;
        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
        button.disabled = true;

        // Create a checkout session on your server
        const response = await fetch('https://khbra-backend.onrender.com/create-checkout-session', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            serviceType: serviceType,
            amount: amount,
            currency: 'sar',
            successUrl: window.location.origin + '/success.html',
            cancelUrl: window.location.origin + '/services.html',
          }),
        });

        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }

        const session = await response.json();

        // Redirect to Stripe Checkout
        const result = await stripe.redirectToCheckout({
          sessionId: session.id
        });

        if (result.error) {
          throw new Error(result.error.message);
        }
      } catch (error) {
        console.error('Error:', error);
        alert('An error occurred. Please try again.');
        // Reset button state
        if (event && event.target) {
          event.target.innerHTML = originalText;
          event.target.disabled = false;
        }
      }
    }

    // Budget Selection
    document.querySelectorAll('.budget-option').forEach(option => {
      option.addEventListener('click', function() {
        // Remove selected class from siblings
        this.parentElement.querySelectorAll('.budget-option').forEach(opt => {
          opt.classList.remove('selected');
        });
        // Add selected class to clicked option
        this.classList.add('selected');
      });
    });

    // Chat Interface
    function startChat() {
      const selectedBudget = document.querySelector('.budget-option.selected');
      if (!selectedBudget) {
        alert('Please select a budget first');
        return;
      }
      showChatPaymentModal(selectedBudget.dataset.price);
    }

    function showChatPaymentModal(amount) {
      currentPayment = {
        serviceType: 'chat',
        amount: amount,
        paymentType: 'chat'
      };
      document.getElementById('chatPaymentModal').classList.add('active');
    }

    function closeChatPaymentModal() {
      document.getElementById('chatPaymentModal').classList.remove('active');
    }

    function proceedToChatPayment() {
      try {
        const selectedBudget = document.querySelector('.budget-option.selected');
        redirectToCheckout('chat', selectedBudget.dataset.price, event);
      } catch (error) {
        console.error('Error with Stripe:', error);
        showFallbackPayment(selectedBudget.dataset.price, 'chat');
      }
    }

    // Case Study
    function startCaseStudy() {
      const selectedPrice = document.getElementById('caseStudySlider').value;
      const files = document.getElementById('caseFile').files;
      
      if (files.length === 0) {
        alert('Please upload case documents first');
        return;
      }
      
      // Show payment modal immediately
      showCaseStudyPaymentModal(selectedPrice);
    }

    function showCaseStudyPaymentModal(amount) {
      currentPayment = {
        serviceType: 'caseStudy',
        amount: amount,
        paymentType: 'caseStudy'
      };
      document.getElementById('caseStudyPaymentModal').classList.add('active');
    }

    function closeCaseStudyPaymentModal() {
      document.getElementById('caseStudyPaymentModal').classList.remove('active');
    }

    function proceedToCaseStudyPayment() {
      try {
        const selectedPrice = document.getElementById('caseStudySlider').value;
        redirectToCheckout('caseStudy', selectedPrice, event);
      } catch (error) {
        console.error('Error with Stripe:', error);
        showFallbackPayment(selectedPrice, 'caseStudy');
      }
    }

    // Fallback Payment
    function showFallbackPayment(amount, type) {
      currentPayment.paymentType = type;
      document.getElementById('fallbackAmount').textContent = `${amount} SAR`;
      document.getElementById('fallbackPaymentSection').classList.add('active');
    }

    function closeFallbackPayment() {
      document.getElementById('fallbackPaymentSection').classList.remove('active');
    }

    function processFallbackPayment() {
      // Simulate payment processing
      const loadingButton = document.querySelector('#fallbackPaymentSection button');
      const originalText = loadingButton.innerHTML;
      loadingButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
      loadingButton.disabled = true;

      setTimeout(() => {
        loadingButton.innerHTML = originalText;
        loadingButton.disabled = false;
        alert('Payment processed successfully!');
        closeFallbackPayment();
        
        // Open the appropriate interface based on payment type
        if (currentPayment.paymentType === 'chat') {
          document.getElementById('chatInterface').dataset.paid = 'true';
          document.getElementById('chatInput').disabled = false;
          document.getElementById('chatInput').placeholder = 'Type your message...';
        } else if (currentPayment.paymentType === 'caseStudy') {
          alert('Your case study analysis will begin shortly. We will contact you with the results.');
        }
      }, 2000);
    }

    // Modify the chat input to check for payment
    document.getElementById('chatInput').addEventListener('focus', function() {
      if (!document.getElementById('chatInterface').dataset.paid) {
        this.blur();
        showChatPaymentModal(currentPayment.amount);
      }
    });

    // Modify sendMessage to check for payment
    function sendMessage() {
      if (!document.getElementById('chatInterface').dataset.paid) {
        showChatPaymentModal(currentPayment.amount);
        return;
      }

      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      if (message) {
        const chatMessages = document.getElementById('chatMessages');
        const messageElement = document.createElement('div');
        messageElement.className = 'bg-gray-100 p-3 rounded-lg mb-2';
        messageElement.textContent = message;
        chatMessages.appendChild(messageElement);
        input.value = '';
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
    }

    // Call Interface
    function startCall() {
      const selectedPrice = document.getElementById('priceSlider').value;
      if (!selectedPrice) {
        alert('Please select a consultation duration');
        return;
      }
      document.getElementById('callInterface').style.display = 'block';
    }

    function closeCall() {
      document.getElementById('callInterface').style.display = 'none';
    }

    function selectCallType(type) {
      document.querySelectorAll('.call-option').forEach(option => {
        option.classList.remove('selected');
      });
      event.currentTarget.classList.add('selected');
    }

    // File Upload Preview
    document.getElementById('caseFile').addEventListener('change', function(e) {
      const fileUpload = this.parentElement;
      if (this.files.length > 0) {
        fileUpload.classList.add('has-files');
        fileUpload.innerHTML = `
          <i class="bi bi-check-circle text-green-500"></i>
          <p class="text-gray-600">${this.files.length} file(s) selected</p>
          <button onclick="startCaseStudy()" class="mt-4 bg-black text-white px-6 py-2 rounded-full hover:bg-gray-800 transition-colors duration-300">
            Start Analysis
          </button>
        `;
      } else {
        fileUpload.classList.remove('has-files');
        fileUpload.innerHTML = `
          <i class="bi bi-cloud-arrow-up"></i>
          <p class="text-gray-600">Click to upload case documents</p>
        `;
      }
    });

    // Initialize chat interface
    document.addEventListener('DOMContentLoaded', function() {
      const chatInterface = document.getElementById('chatInterface');
      // Removed: chatInterface.style.display = 'block'; // Let CSS handle initial display
      document.getElementById('chatInput').disabled = true;
      document.getElementById('chatInput').placeholder = 'Complete payment to start chatting...';
    });

    // Close chat interface
    function closeChat() {
      document.getElementById('chatInterface').style.display = 'none';
    }

    // Add this new function for the price slider
    function updatePrice(value) {
      document.getElementById('selectedPrice').textContent = value + ' SAR';
      // Store the selected price for payment processing
      currentPayment.amount = value;
    }

    // Add this new function for the case study price slider
    function updateCaseStudyPrice(value) {
      // Format the number with commas for thousands
      const formattedValue = new Intl.NumberFormat('en-US').format(value);
      document.getElementById('caseStudyPrice').textContent = formattedValue + ' SAR';
      // Store the selected price for payment processing
      currentPayment.amount = value;
    }

    // Language switching functionality
    function toggleLanguage(isArabic) {
      const englishElements = document.querySelectorAll('.en:not(.lang-text)');
      const arabicElements = document.querySelectorAll('.ar:not(.lang-text)');
      
      if (isArabic) {
        englishElements.forEach(el => el.classList.add('hidden'));
        arabicElements.forEach(el => el.classList.remove('hidden'));
        // Show EN text when in Arabic mode
        document.querySelectorAll('.lang-text.en').forEach(el => el.classList.remove('hidden'));
        document.querySelectorAll('.lang-text.ar').forEach(el => el.classList.add('hidden'));
      } else {
        englishElements.forEach(el => el.classList.remove('hidden'));
        arabicElements.forEach(el => el.classList.add('hidden'));
        // Show AR text when in English mode
        document.querySelectorAll('.lang-text.en').forEach(el => el.classList.add('hidden'));
        document.querySelectorAll('.lang-text.ar').forEach(el => el.classList.remove('hidden'));
      }
    }

    // Set initial language to Arabic
    document.addEventListener('DOMContentLoaded', () => {
      toggleLanguage(true);
    });

    // Desktop language toggle
    const languageToggle = document.getElementById('languageToggle');
    if (languageToggle) {
      languageToggle.addEventListener('change', (e) => {
        toggleLanguage(e.target.checked);
      });
    }

    // Mobile language toggle
    const languageToggleMobile = document.getElementById('languageToggleMobile');
    if (languageToggleMobile) {
      languageToggleMobile.addEventListener('change', (e) => {
        toggleLanguage(e.target.checked);
      });
    }
  </script>
</body>
</html>